<p align="right">
  <a href="./README.md">ğŸ‡¬ğŸ‡§ English</a>
</p>

# Codexidian

![Version](https://img.shields.io/badge/version-0.1.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Platform](https://img.shields.io/badge/platform-Obsidian%20Desktop-purple)

ä¸€ä¸ªæŠŠ **Codex app-server** åŸç”ŸåµŒå…¥ Obsidian çš„èŠå¤©å·¥ä½œå°ï¼Œæ”¯æŒå¤šæ ‡ç­¾ä¼šè¯ã€ç»“æ„åŒ–è¿è¡ŒçŠ¶æ€å±•ç¤ºï¼Œä»¥åŠé¢å‘ Vault çš„ä¸Šä¸‹æ–‡å·¥ä½œæµã€‚

![Screenshot](screenshot.png)

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒèŠå¤©
- ğŸ’¬ **å¤šæ ‡ç­¾ä¼šè¯**ï¼šå¹¶è¡Œç®¡ç†å¤šä¸ªå¯¹è¯ï¼Œé€‚åˆé•¿æœŸé¡¹ç›®å’Œåˆ†æ”¯æ¢ç´¢ã€‚
- ğŸ”„ **æµå¼è¾“å‡º + å¯ä¸­æ–­**ï¼šå›å¤å®æ—¶æµå¼æ¸²æŸ“ï¼Œ`Esc` å¯éšæ—¶å–æ¶ˆå½“å‰è½®æ¬¡ã€‚
- ğŸ§µ **çº¿ç¨‹æŒä¹…åŒ–**ï¼šé‡å¯åå¯å¤ç”¨ threadï¼Œå¤±æ•ˆæ—¶è‡ªåŠ¨å›é€€æ–°çº¿ç¨‹ã€‚
- ğŸ§¾ **ç»“æ„åŒ–æ¸²æŸ“**ï¼šThinking åŒºå—å’Œ Tool å¡ç‰‡åˆ†å¼€å±•ç¤ºï¼Œè¿‡ç¨‹æ›´é€æ˜ã€‚

### ç”Ÿäº§åŠ›ä¸æ§åˆ¶
- ğŸ§  **Model / Effort æ§ä»¶**ï¼šå·¥å…·æ å’Œ slash å‘½ä»¤éƒ½å¯å¿«é€Ÿåˆ‡æ¢ã€‚
- ğŸ§© **Skill åŠ¨æ€é€‰æ‹©å™¨**ï¼šè‡ªåŠ¨æ‰«æ `.codex/skills/*/SKILL.md`ï¼ŒæŒ‰è½®æ³¨å…¥ `[Skill: ...]`ã€‚
- ğŸ›¡ï¸ **Mode å®¡æ‰¹æ¨¡å¼**ï¼š`Safe` / `Prompt` / `Yolo` ä¸‰ç§å®¡æ‰¹è¡Œä¸ºã€‚
- âš¡ **Slash å‘½ä»¤ç³»ç»Ÿ**ï¼š`/new`ã€`/clear`ã€`/model`ã€`/effort`ã€`/history`ã€`/tabs`ã€`/help`ã€‚

### ä¸Šä¸‹æ–‡ä¸é™„ä»¶
- ğŸ“ **æ–‡ä»¶ä¸Šä¸‹æ–‡ï¼ˆ@mentionï¼‰**ï¼šå°†ç¬”è®°æ–‡ä»¶å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡é™„åŠ åˆ°è¯·æ±‚ã€‚
- ğŸ–¼ï¸ **å›¾ç‰‡é™„ä»¶**ï¼šæ”¯æŒç²˜è´´ã€æ‹–æ‹½ã€æ–‡ä»¶é€‰æ‹©ä¸‰ç§æ–¹å¼ã€‚
- ğŸ“ **å½“å‰ç¬”è®° / é€‰åŒºæ³¨å…¥**ï¼šå¯é€‰åœ°æŠŠç¼–è¾‘å™¨ä¸Šä¸‹æ–‡åŠ å…¥æç¤ºè¯ã€‚
- ğŸ”Œ **MCP é›†æˆï¼ˆå¯é€‰ï¼‰**ï¼šé€šè¿‡ Obsidian API æä¾›ç¬”è®°è¯»å†™/æ£€ç´¢èƒ½åŠ›ã€‚

### å®¡æŸ¥ã€è®¡åˆ’ä¸ç¼–è¾‘
- ğŸ“Š **Status Panel**ï¼šå±•ç¤ºå½“å‰è½®æ¬¡çŠ¶æ€å’Œæœ€è¿‘æ“ä½œæ—¶é—´çº¿ã€‚
- ğŸ” **Review Pane**ï¼šæ˜¾ç¤ºä¸Šè½®æ¨æ–­çš„æ–‡ä»¶å˜æ›´ï¼Œå¹¶å¯æ’é˜Ÿè¯„è®ºåˆ°ä¸‹ä¸€è½®ã€‚
- ğŸ—ºï¸ **Plan Mode å·¥ä½œæµ**ï¼šæŠŠè®¡åˆ’å†…å®¹è§£æä¸ºå¯æ“ä½œå¡ç‰‡ï¼ˆå®¡æ‰¹/åé¦ˆ/é€æ­¥æ‰§è¡Œï¼‰ã€‚
- âœï¸ **å†…è”ç¼–è¾‘ï¼ˆç”¨æˆ·æ¶ˆæ¯ï¼‰**ï¼šç›´æ¥ç¼–è¾‘å†å²ç”¨æˆ·æ¶ˆæ¯å¹¶ä»è¯¥ç‚¹é‡å‘ã€‚
- ğŸ§ª **Apply to Note**ï¼šå°† AI ä»£ç å—ä¸€é”®åº”ç”¨åˆ°ç¬”è®°ï¼ˆæ›¿æ¢é€‰åŒºæˆ–è¿½åŠ ï¼‰ã€‚
- ğŸŒ¿ **Rewind / Fork**ï¼šä»ä»»æ„ç”¨æˆ·æ¶ˆæ¯å›é€€æˆ–åˆ†å‰æ–°ä¼šè¯ã€‚

### ä¼šè¯ç®¡ç†ä¸å®‰å…¨
- ğŸ—‚ï¸ **Session Modal**ï¼šæ”¯æŒæœç´¢ã€è¿‡æ»¤ã€ç½®é¡¶ã€å½’æ¡£ã€åˆ†å‰ã€åˆ é™¤ã€‚
- âœ… **Inline Approval + Always Allow**ï¼šèŠå¤©ä¸­å®¡æ‰¹ï¼Œå¹¶å¯å›ºåŒ–å…è®¸è§„åˆ™ã€‚
- ğŸ” **å®‰å…¨æ§åˆ¶**ï¼šè·¯å¾„é»‘åå•ã€å†™å…¥ç¡®è®¤ã€æœ€å¤§ç¬”è®°å¤§å°é™åˆ¶ã€‚
- ğŸŒ **i18n å›½é™…åŒ–**ï¼šä¸­è‹±åŒè¯­ç•Œé¢ã€‚

## å‰ç½®è¦æ±‚

- Obsidian Desktop `>= 1.4.5`
- å·²å®‰è£… Codex CLIï¼Œä¸”å‘½ä»¤å¯åœ¨ PATH ä¸­æ‰¾åˆ°ï¼ˆ`codex` / `codex.cmd`ï¼‰
- Node.js `>= 18`ï¼ˆä»…å¼€å‘/æ„å»ºéœ€è¦ï¼‰

## å®‰è£…æ–¹å¼

å½“å‰ä»¥æ‰‹åŠ¨å®‰è£…ä¸ºä¸»ï¼š

1. å‡†å¤‡æ’ä»¶æ–‡ä»¶ï¼š`manifest.json`ã€`main.js`ã€`styles.css`
2. åˆ›å»ºç›®å½•ï¼š
   - `<ä½ çš„ Vault>/.obsidian/plugins/codexidian/`
3. å°†æ–‡ä»¶å¤åˆ¶åˆ°è¯¥ç›®å½•
4. æ‰“å¼€ Obsidian -> `Settings` -> `Community plugins`
5. å¯ç”¨ **Codexidian**

## é…ç½®è¯´æ˜

è·¯å¾„ï¼š`Settings -> Codexidian`

### é€šç”¨
- `Language`ï¼šç•Œé¢è¯­è¨€ï¼ˆ`en` / `zh`ï¼‰
- `Codex command`ï¼šå¯åŠ¨ app-server çš„å‘½ä»¤
- `Working directory`ï¼šæ¯è½®è¯·æ±‚çš„å·¥ä½œç›®å½•

### æ¯è½®æ§åˆ¶
- `Model`ï¼šæ¨¡å‹é€‰æ‹©ï¼ˆæˆ–é»˜è®¤ï¼‰
- `Thinking effort`ï¼š`low` / `medium` / `high` / `xhigh`
- `Skill`ï¼šä» `.codex/skills` åŠ¨æ€åŠ è½½çš„é»˜è®¤ skill
- `Mode`ï¼šå®¡æ‰¹æ¨¡å¼ï¼ˆ`Safe` / `Prompt` / `Yolo`ï¼‰

### å®¡æ‰¹ä¸è¿è¡Œ
- `Approval policy`ï¼šapp-server å±‚å®¡æ‰¹ç­–ç•¥
- `Sandbox mode`ï¼šæ²™ç®±ç­–ç•¥
- `Auto-approve app-server requests`ï¼šæ—§å…¼å®¹è‡ªåŠ¨å®¡æ‰¹å¼€å…³
- `Persist thread across restarts`
- `Saved thread`ï¼šæ¸…é™¤ä¿å­˜çš„çº¿ç¨‹ ID

### UI ä¸ä¸Šä¸‹æ–‡
- `Max tabs`ï¼ˆ1-5ï¼‰
- `Context injection`
- `Selection polling`

### MCP
- `Enable MCP vault tools`
- `MCP endpoint`ï¼ˆå¯é€‰ï¼‰
- `MCP API key`ï¼ˆå¯é€‰ï¼‰
- `Auto MCP context notes`ï¼ˆè‡ªåŠ¨é™„åŠ ç¬”è®°æ•°é‡ï¼‰

### å®‰å…¨
- `Blocked paths`ï¼ˆæ¯è¡Œä¸€ä¸ªè§„åˆ™ï¼‰
- `Require approval for write`
- `Max note size (KB)`
- `Allow rules`ï¼šæŸ¥çœ‹/åˆ é™¤/æ¸…ç©º Always-Allow è§„åˆ™

## ä½¿ç”¨æŒ‡å—

### 1. æ‰“å¼€é¢æ¿
- ç‚¹å‡»å·¦ä¾§ Ribbon çš„æœºå™¨äººå›¾æ ‡ï¼Œæˆ–æ‰§è¡Œå‘½ä»¤ `Open Codexidian`ã€‚

### 2. å‘é€æ¶ˆæ¯
- åœ¨è¾“å…¥æ¡†è¾“å…¥å†…å®¹ï¼ŒæŒ‰ `Enter` æˆ–ç‚¹å‡» **Send**ã€‚
- å›å¤ä¼šåœ¨å½“å‰æ ‡ç­¾é¡µæµå¼æ˜¾ç¤ºã€‚

### 3. ä½¿ç”¨ slash å‘½ä»¤
- è¾“å…¥ `/` å³å¯å¼¹å‡ºå‘½ä»¤èœå•ã€‚
- ç”¨æ–¹å‘é”®é€‰æ‹©ï¼Œ`Enter` æ‰§è¡Œã€‚

### 4. åˆ‡æ¢ model / effort / skill / mode
- é€šè¿‡åº•éƒ¨å·¥å…·æ å¿«é€Ÿåˆ‡æ¢ï¼š
  - `[Model] [Effort] [Skill] [ğŸ“] [Mode]`

### 5. æ·»åŠ é™„ä»¶
- æ–‡ä»¶ï¼šé€šè¿‡ä¸Šä¸‹æ–‡æ–‡ä»¶é€‰æ‹©å™¨é™„åŠ ã€‚
- å›¾ç‰‡ï¼šæ”¯æŒç²˜è´´ã€æ‹–æ‹½ã€ç‚¹å‡» `ğŸ“` é€‰æ‹©ã€‚

### 6. ç®¡ç†ä¼šè¯
- ç‚¹å‡» **History** æ‰“å¼€ Session Modalã€‚
- å¯æœç´¢ã€è¿‡æ»¤ã€ç½®é¡¶ã€å½’æ¡£ã€åˆ†å‰ã€æ‰“å¼€ã€åˆ é™¤ã€‚

### 7. Rewind / Fork
- åœ¨ç”¨æˆ·æ¶ˆæ¯å³ä¾§å¯ç”¨ï¼š
  - `âœ` ç¼–è¾‘
  - `â†©` å›é€€
  - `â‘‚` åˆ†å‰

### 8. ä½¿ç”¨ Review Pane
- Tool æ‰§è¡Œåå¯æŸ¥çœ‹å˜æ›´åˆ—è¡¨ã€‚
- æ·»åŠ è¯„è®ºåä¼šè‡ªåŠ¨æ‹¼æ¥åˆ°ä¸‹ä¸€æ¬¡è¯·æ±‚ä¸­ã€‚

### 9. ä½¿ç”¨ Plan Mode
- æ£€æµ‹åˆ°è®¡åˆ’å†…å®¹åï¼Œä¼šæ˜¾ç¤º Plan å¡ç‰‡ã€‚
- å¯ç›´æ¥æ‰§è¡Œï¼š**Approve All**ã€**Give Feedback**ã€**Execute Next**ã€‚

## é”®ç›˜å¿«æ·é”®

- `Enter`ï¼šå‘é€æ¶ˆæ¯
- `Shift+Enter`ï¼šè¾“å…¥æ¢è¡Œ
- `Ctrl+Enter` / `Cmd+Enter`ï¼šå‘é€æ¶ˆæ¯
- `Esc`ï¼šå–æ¶ˆå½“å‰æµå¼è¾“å‡º
- Slash èœå•ï¼š
  - `ArrowUp` / `ArrowDown`ï¼šä¸Šä¸‹é€‰æ‹©
  - `Enter`ï¼šæ‰§è¡Œå‘½ä»¤
  - `Esc`ï¼šå…³é—­èœå•

## ä¸ Claudian çš„ç®€è¦å¯¹æ¯”

- **Codexidian**ï¼šåç«¯å¼•æ“æ˜¯ **Codex app-server**ã€‚
- **Claudian**ï¼šæ ¸å¿ƒå›´ç»• **Claude å·¥ä½œæµ**ã€‚
- ä¸¤è€…éƒ½è¿½æ±‚åŸç”Ÿ Obsidian èŠå¤©ä½“éªŒï¼›Codexidian æ›´å¼ºè°ƒ Codex çš„ tool/turn æµç¨‹ã€è®¡åˆ’å®¡æŸ¥é—­ç¯ï¼Œä»¥åŠ Vault åœºæ™¯ä¸‹çš„ MCP èƒ½åŠ›ã€‚

## å¼€å‘è¯´æ˜

```bash
cd .obsidian/plugins/codexidian
npm install
npm run build
```

å¼€å‘ç›‘å¬ï¼š

```bash
npm run dev
```

## License

MIT

## Credits

- Obsidian API ä¸æ’ä»¶ç”Ÿæ€
- Codex app-server è¿è¡Œæ—¶
- åŒ Vault ä¸‹ Claudian çš„äº¤äº’ä½“éªŒå‚è€ƒ

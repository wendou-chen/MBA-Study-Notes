---
name: error-template-scaffold
description: 创建新章节的错题目录和模板文件。当用户说"/错题 [章节名]"时触发，自动创建标准错题文件结构并与 image-organization skill 集成。
---

# 错题模板脚手架

为新章节快速搭建错题记录环境，降低记录摩擦。

## 触发

用户输入 `/错题 <章节名>` 或 "新建错题 <章节名>"。

## 工作流

### 1. 解析章节名

从用户输入提取章节名（如"无穷级数"、"多元函数积分"、"线性代数-行列式"）。

支持的科目前缀映射：
- 无前缀 / `数学` → `考研数学/错题/`
- `线代` → `考研数学/错题/`
- `概率` → `考研数学/错题/`

### 2. 创建目录结构

```
考研数学/错题/<章节名>/
├── <章节名>错题.md
└── images/
```

使用 Bash `mkdir -p` 创建 `images/` 目录（会同时创建父目录）。

### 3. 生成模板文件

创建 `考研数学/错题/<章节名>/<章节名>错题.md`，内容为空文件（无 frontmatter），与现有微分方程错题格式一致。

文件开头写入使用说明注释（Obsidian 不渲染 HTML 注释）：

```markdown
<!-- 错题记录格式：
![[images/Pasted image YYYYMMDDHHMMSS.png]]
- **错误次数**: N
- **错误知识点**: 知识点名称
- **详细错误原因**: 具体原因描述
-->

```

### 4. 输出确认

告知用户：
- 已创建的目录路径
- 已创建的模板文件路径
- 提示：直接在 Obsidian 中粘贴截图，图片会出现在根目录，之后可用 `/整理图片` 归档到 `images/`

## 边界条件

- 如果目录已存在，跳过创建，提示用户"该章节错题目录已存在"
- 如果错题文件已存在，不覆盖，提示用户直接编辑
- 章节名不能包含 `/`、`\`、`:` 等文件系统非法字符

## 示例

用户输入：`/错题 无穷级数`

执行结果：
```
✓ 已创建 考研数学/错题/无穷级数/images/
✓ 已创建 考研数学/错题/无穷级数/无穷级数错题.md
→ 在 Obsidian 中打开该文件，粘贴错题截图后按格式填写即可。
```
